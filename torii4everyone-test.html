
<h1>みんなの鳥居のキズプロジェクト</h1>
<form>
<h2>神社名</h2>
<input type="text" value="" id="shrine">
<h2>都道府県</h2>
<input type="text" value="" id="pref">
<h2>市町村</h2>
<input type="text" value="" id="city">
<h2>緯度</h2>
<input type="text" value="" id="lat">
<h2>経度</h2>
<input type="text" value="" id="lng">
<h2>住所(空欄OK)</h2>
<input type="text" value="" id="addr">

<h2>調査結果画像</h2>
作成中
<h2>鳥居画像１</h2>
作成中
<h2>鳥居画像２</h2>
作成中
<h2>鳥居画像３</h2>
作成中
<h2>鳥居画像４</h2>
作成中
<h2>鳥居画像５</h2>
作成中
<h2>鳥居画像６</h2>
作成中
</form>
<button id="b">button</button>
<hr>
<button id="g">get</button>
<div id="result"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
<script>
const b = document.getElementById('b')
b.addEventListener('click', () => {
const shrine = document.getElementById('shrine').value
const pref = document.getElementById('pref').value
const city = document.getElementById('city').value
const lat = document.getElementById('lat').value
const lng = document.getElementById('lng').value
const addr = document.getElementById('addr').value

/*
const join = document.getElementsByName('join')
let joinResult;
for (let i = 0; i < join.length; i++) {
    if (join[i].checked) {
    joinResult = join[i].value
    break;
    }
}
*/

const data = {
    shrine: shrine,
    pref: pref,
    city: city,
    lat: lat,
    lng: lng,
    addr: addr,
}


axios.post('https://torii4everyone.firebaseio.com/form.json', data)
    .then(res => console.log(res))
})

// <button id="g">get</button>
// <div id="result"></div>
 
const g = document.getElementById('g')
g.addEventListener('click', () => {
  axios.get('https://my-form-170ae.firebaseio.com/form.json')
    .then(res => {
      const data = Object.keys(res.data).map(key => {
        return Object.values(res.data[key]).reverse()
      })
      new gridjs.Grid({
        search: true,
        columns: ['神社名', '都道府県', '市町村', '緯度', '経度', '住所(空欄OK)'],
        data: data
      }).render(document.getElementById('result'));
    })
})

</script>
